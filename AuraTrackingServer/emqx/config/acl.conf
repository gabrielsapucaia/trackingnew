%% ============================================================
%% EMQX ACL Configuration - AuraTracking
%% ============================================================
%% Configuração de controle de acesso para ambiente de intranet
%% Permite todas as operações para dispositivos AuraTracking
%% ============================================================

%% Permitir todos os clientes publicarem em aura/tracking/#
{allow, all, publish, ["aura/tracking/#"]}.

%% Permitir todos os clientes assinarem aura/tracking/#
{allow, all, subscribe, ["aura/tracking/#"]}.

%% Permitir ingest worker assinar com wildcard
{allow, {clientid, "aura_ingest_worker"}, subscribe, ["#"]}.

%% Permitir clientes de teste
{allow, {clientid, {re, "^aura_.*"}}, all, ["aura/#"]}.

%% Negar tudo o resto por segurança (opcional em intranet)
%% {deny, all, all, ["$SYS/#"]}.

%% Permitir acesso geral em ambiente de desenvolvimento
{allow, all, all, ["#"]}.
